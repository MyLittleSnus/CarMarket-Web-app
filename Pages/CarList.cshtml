@page
@model Razor_Test.Pages.CarListModel
@{
}

@{
    ViewData["Username"] = Model.CurrentProfile.Username;
    Layout = "Shared/_Layout.cshtml";
}

@{
    if (Model.Offers.Count == 0)
    {
        <div class="container">
            <p class="display-4 text-center">
                No offers
            </p>
        </div>
    }
}

@foreach (var offer in Model.Offers)
{
        
    @*var carType = "";*@

    @*if (offer.CarModel.Type == 1) carType = "седан";    // сменить на енум
    if (offer.CarModel.Type == 2) carType = "позашляховик"; // сменить на енум
    if (offer.CarModel.Type == 3) carType = "автобус";  // сменить на енум*@

    <div class="container-fluid border border-dark">
        <div class="row">
            <div class="col-md-4 sm-12">
                <div class="container-fluid text-center">
                    <img class="img-fluid" src="@offer.CarModel.ImagePath" style="max-width:300px" alt="...">
                </div>
            </div>
            <div class="col-md-8 sm-12">
                <div class="col-12">
                    <h4 class="mt-3 text-dark">
                        @offer.CarModel.Manufacturer
                    </h4>
                </div>
                <div class="col-12 border border-info rounded px-3 py-2" style="background-color: #F08080">
                    <div class="d-flex flex-column justify-content-between ">
                        <p class="myLighter mb-2 text-light">
                            рік випуску: @offer.CarModel.Year <br />
                        </p>
                        <p class="myLighter mb-2 mt-2">
                            @switch (offer.CarModel.Country)
                            {
                                case "DE": // сменить на енум || засунуть в сеттер
                                    <img class="img-fluid" src="https://www.transparentpng.com/thumb/germany-flag/8tP4pA-germany-circle-flag-transparent.png" style="max-width: 50px;" alt="..." />
                                    break;
                                case "US":
                                    <img class="img-fluid" src="~/Images/countries/us_rounded.png" style="max-width: 50px;" alt="..." />
                                    break;
                                case "FC":
                                    <img class=" img-fluid" src="~/Images/countries/fc_rounded.png" style="max-width: 50px;" alt="..." />
                                    break;
                            }
                        </p>
                    </div>
                </div>
                @*<div class="col-1 mt-2">
                    @switch (offer.CarModel.Country)
                    {
                        case "DE": // сменить на енум || засунуть в сеттер
                            <img class="img-fluid" src="https://www.transparentpng.com/thumb/germany-flag/8tP4pA-germany-circle-flag-transparent.png" style="max-width: 50px;" alt="..." />
                            break;
                        case "US":
                            <img class="img-fluid" src="~/Images/countries/us_rounded.png" style="max-width: 50px;" alt="..." />
                            break;
                        case "FC":
                            <img class=" img-fluid" src="~/Images/countries/fc_rounded.png" style="max-width: 50px;" alt="..." />
                            break;
                    }
                </div>*@
                <div class="row">
                    <div class="mt-5 mb-3">
                        <div class="d-flex justify-content-start">
                            <a class="btn btn-info" asp-page="MainCarPage" asp-route-id="@offer.Id">Від @offer.CarModel.Cost$!</a>
                            <button class="btn btn-warning mx-2">
                                <i class="bi bi-bag-plus"></i>
                            </button>
                        </div>
                        <div class="d-flex justify-content-end align-items-center">
                            <i class="bi bi-eye">@offer.PeopleViewed.Count</i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}